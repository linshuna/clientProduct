webpackJsonp([20],{"5Zj1":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("VsUZ"),o=e("Q50t"),a=e("spZf"),n=e("aYDR"),r=e("hU7x"),c={name:"Shopping",mixins:[o.a],data:function(){return{selected:"1",selItem:"越秀区",selectList:[],sortList:["天河区","海珠区","白云区","番禺区"],sortData:"推荐排序",FilterList:["汽车美容","常规保养"],filterData:"服务类型",kmData:"离我最近",showSelList:!1,bannerList:[],ShopStoreList:[],RecommendList:[],longitude:"",latitude:"",StoreaList:[],addressValue:0,addressName:"",checkedName:"",currentPicker:1,popupVisible:!1,addressname:{},allAddress:[],search:"",sorts:1,sortsText:"默认排序",city:"",addressExtends:"",typename:"商品类型",project_id:"",shopNum:0}},created:function(){var t=this;r("http://apis.map.qq.com/ws/location/v1/ip?key=IK2BZ-QCAKQ-QJ45W-GCLNJ-JCWSK-GWBYA&get_poi=0&output=jsonp",null,function(s,e){var i=e.result,o=i.ad_info.city+" "+i.ad_info.district;t.$set(t.addressname,"name",o),t.$set(t.addressname,"longitude",i.location.lng),t.$set(t.addressname,"latitude",i.location.lat),t.$set(t.addressname,"code",i.ad_info.adcode),console.log(i)})},mounted:function(){this.$nextTick(function(){this._getShopBanner(),this._getShopRecommend()})},components:{"base-footer":a.a,"pro-city-area":n.a},watch:{addressname:function(t,s){this.longitude=t.longitude,this.latitude=t.latitude,this._getShopStore()}},methods:{transmit:function(t,s){this.selectList=t,this.selItem=s,this.showSelList=!0},selType:function(t){"1"==this.selected?this.sortData=t:this.filterData=t,this.showSelList=!1},_getShopBanner:function(){var t=this;Object(i.V)().then(function(s){t.bannerList=s})},_getShopRecommend:function(){var t=this;Object(i.Y)().then(function(s){t.RecommendList=s})},_getShopStore:function(){var t=this;Object(i.Z)({longitude:this.longitude,latitude:this.latitude,project_id:this.project_id,search:this.search,sorts:this.sorts}).then(function(s){t.ShopStoreList=s.store,t.shopNum=s.sum,console.log(s.store)})},shoppingDetail:function(t){this.$router.push({path:"/Index/UpKeep/Shopping/"+t})},openMap:function(t,s,e,i){window.location.href="https://apis.map.qq.com/tools/poimarker?type=0&marker=coord:"+s+","+t+";title:"+e+";addr:"+i+";&key=IK2BZ-QCAKQ-QJ45W-GCLNJ-JCWSK-GWBYA&referer=myapp "},changeType:function(t){this.currentPicker=t,this.popupVisible=!0,console.log(t)},gainAllAddress:function(t){this.$set(this.addressname,"name",t.area),this.search=t.search,console.log(this.search),this._getShopStore()},gainSort:function(t){this.sorts=t.value,this.sortsText=t.name,this._getShopStore()},gainShopProject:function(t){this.typename=t.name,this.project_id=t.value,this._getShopStore()},nowBuyGoods:function(t){this.$router.push({path:"/Index/UpKeep/maintain/"+t})}}},l={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"Shopping-wrap mask"},[i("div",{staticClass:"Shopping"},[i("div",{staticClass:"nav_swipe"},[i("mt-swipe",{attrs:{auto:4e3}},t._l(t.bannerList,function(t,s){return i("mt-swipe-item",{key:s},[i("img",{attrs:{src:t.pic,alt:""}})])}))],1),t._v(" "),i("div",{staticClass:"section"},[t._m(0),t._v(" "),i("div",{staticClass:"section_footer_ulaa"},[i("ul",{staticClass:"section_footer_ul"},t._l(t.RecommendList,function(s,e){return i("li",{key:e,on:{click:function(e){e.stopPropagation(),t.nowBuyGoods(s.id)}}},[i("div",{staticClass:"section_footer"},[i("img",{staticClass:"section_footer_img",attrs:{src:s.pic,alt:""}}),t._v(" "),i("p",[t._v(t._s(s.name))]),t._v(" "),i("p",[t._v("¥"+t._s(s.salesprice))])])])}))])]),t._v(" "),i("div",{staticClass:"footer"},[i("div",{staticClass:"footer_top"},[i("button",{staticClass:"footer_top_button"},[t._v("全城"+t._s(t.shopNum)+"家门店")])])]),t._v(" "),i("div",[i("nav",[i("div",{staticClass:"addres",on:{click:function(s){t.changeType(1)}}},[i("p",[t._v(t._s(t.addressname.name))]),t._v(" "),i("img",{attrs:{src:e("91q3"),alt:""}})]),t._v(" "),i("div",{staticClass:"typename",on:{click:function(s){t.changeType(5)}}},[i("p",[t._v(t._s(t.typename))]),t._v(" "),i("img",{attrs:{src:e("91q3"),alt:""}})]),t._v(" "),i("p",{staticClass:"sort",on:{click:function(s){t.changeType(4)}}},[t._v(t._s(t.sortsText)+"\n                "),i("img",{attrs:{src:e("91q3"),alt:""}})])])]),t._v(" "),i("pro-city-area",{attrs:{current:t.currentPicker,popupVisible:t.popupVisible},on:{"update:current":function(s){t.currentPicker=s},"update:popupVisible":function(s){t.popupVisible=s},gainAllAddress:t.gainAllAddress,gainSort:t.gainSort,gainShopProject:t.gainShopProject}}),t._v(" "),t.ShopStoreList&&t.ShopStoreList.length>0?[i("ul",{staticClass:"list"},t._l(t.ShopStoreList,function(s){return i("li",{on:{click:function(e){e.stopPropagation(),t.shoppingDetail(s.id)}}},[i("div",{staticClass:"footer_footer"},[i("div",{staticClass:"footer_footer_nav"},[i("p",[t._v(t._s(s.name))]),i("img",{staticClass:"rightArrow",attrs:{src:e("q8gq"),alt:""}})]),t._v(" "),i("div",{staticClass:"footer_footer_section"},[i("img",{staticClass:"footer_footer_section_img",attrs:{src:s.pic,alt:""}}),t._v(" "),i("div",{staticClass:"footer_footer_section_right"},[i("p",[t._v("主修车型:"+t._s(s.carname))]),t._v(" "),i("div",{staticClass:"footer_fsection"},[i("div",{staticClass:"footer_footer_section_right_pb"},[i("p",[t._v("已售")]),t._v(" "),i("p",[t._v(t._s(s.sale))])])]),t._v(" "),i("p",[t._v("营业时间:"+t._s(s.storeTime))]),t._v(" "),i("p",[t._v(t._s(s.addressExtends.slice(0,11))+"...")]),t._v(" "),i("img",{staticClass:"navigation",attrs:{src:e("a2wu"),alt:""},on:{click:function(e){t.openMap(s.longitude,s.latitude,s.dist,s.addressExtends)}}}),t._v(" "),i("p",{staticClass:"footer_km"},[t._v("大约 "+t._s(t._f("distanceFilter")(s.distance)))])])])])])}))]:[i("p",{staticStyle:{"text-align":"center","margin-top":"10%","font-size":".28rem"}},[t._v("暂时搜索不到店铺，更换筛选条件")])]],2),t._v(" "),i("base-footer")],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"section_top"},[s("p",[this._v("热销产品")])])}]},p=e("VU/8")(c,l,!1,function(t){e("CsqU")},"data-v-4446eb2b",null);s.default=p.exports},CsqU:function(t,s){},a2wu:function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAkCAYAAADo6zjiAAAAAXNSR0IArs4c6QAABANJREFUWAmtV0loFUEQfT3zowguuOBF1Lij4npQwRX06orozYsSRVAJeBEXPi4XRUVFiSIePIog6sGThyAeFDQqatxNYgTBBZeDSP5M+bpnvn+mM1tMGsLvrnpVr7q6qqej0IMhO9AfwzEVvjsHChv4t9SYC5ohuALHa8FXtKoz+FPUrSoClL0YC9fZBOWsB2QalCol2olUqGsF/Kv8u6zKaEvERYSZAUgjBmCI0whRu+h4ZMSuwFQ+w5dT+OWfUCfxO80gNQApYyJQukjDIM1pHvLlzUBlC7PxJgmaGADJZ0Lca9z1+CSjHstE3kF5axnEE9u2WwDmvOvc24CaYIN7t5a36PKWqyNoj/pxogvuvB9KLtPe1+SahT7p23BESGMBwHe2Mu0rIvq+nWrfmiMy/h0BIxsBuI8Y6aiIPnkq8oV3wF12x0sDUDKF98BCBk8feUM+At5s1sMXjaz1s+9shJNDLuIzwNMsqJN00BGlYu2MRl2pkffETmLcqC4+J4fmgn9Wy00GuHsHUmrmalEcHF2Jx9V2VfYuRKX2XMpuA2XnsoPAHbbmMm7CD2qgi9FDZtvOrHVTHrnGh5gmy9ZakstwgjvXo640lec30ELVliLfeW5Ha4KcWZd3DMYmDacGGU6qwy7w69OgRq5wzz7zLHzY6/ezMKyBeq0PAvAxNBucfI1m2ii8ztSHnGEGMqEsj6BYc1BxdUGbagDf4tbWSmGSJSmynJwDMpxhAE5bJlgwX/ZhXCYmogyx8yKihGnAGQTgVPiIkF8JqECk1GDe43tS9bZCY7VN2hD5Ca/yXKurR9DJDn6YhjdywWYpOzszMVQaDLE5uIeow0eNqX0LDvAj4Tg5F4hmkCZexceV9cBg2ifAdXfTIz826p/fxEB8f5s66J+PB1DGMD5CWmg7JtEoJpQf7Ix7FL0iofBXF9wCEg+JwRIX0s5LbS43YIowFqkUzUKi44LCyO61RbUGAutP/iXm+FZBV/8Bo2/DUTONBaAu8BMBr4FJfVGD9NmMbwevIeCo+YwFoMU8m062yDpm4m0N1suZfpSiss74tlx1C0Dr1WG0wvNWs+Jp2Nsh79k1q0lu+t72FitCWyn7MZ2tdZMhjbN1xdYkh7eK5E/T8IkZqILVITwzmYB21MMh0kbyNVnk2mNmBqqUzMQMOO4N3hH1VVn2r+l1vfNu/4jYdoUC0EZ8N87kq/kGYx5rO4mvSc76YfYex+XJq8IBaHNmYlaYieTbUqQjLDg+74uNzBqwXZhdsaLZHR22juF9gG/OvDC59tGjDFRJmYk57I7rNOdrmkOkk+SrGGBLFVP0978CMJxlzOXH6ya3oHjmK0n+oChpn+GYicUsziW9cfgXlRs/Zo+ooggAAAAASUVORK5CYII="}});