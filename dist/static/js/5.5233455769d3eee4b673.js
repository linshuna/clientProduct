webpackJsonp([5],{C2Ve:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("Q50t"),a=s("VsUZ"),r=s("hU7x"),i={mixins:[n.b],name:"NearbyStores",data:function(){return{StoreaList:[],pageData:{},slots:[],province:[],city:[],area:[],popupVisible:!1,addressValue:0,addressName:"",checkedName:"",currentPicker:1,checkedStatus:[{name:"附近优先",value:"2"},{name:"累计点评",value:"3"},{name:"默认排序",value:"1"},{name:"评分最高",value:"4"}]}},created:function(){},mounted:function(){var e=this;r("http://apis.map.qq.com/ws/location/v1/ip?key=IK2BZ-QCAKQ-QJ45W-GCLNJ-JCWSK-GWBYA&get_poi=0&output=jsonp",null,function(t,s){var n=s.result;e.addressName=n.ad_info.city+" "+n.ad_info.district}),console.log(e.addressName),this.initCity(),this._getNearbyStorea()},methods:{_getNearbyStorea:function(){var e=this;Object(a.s)({longitude:23.14,latitude:113.28}).then(function(t){e.StoreaList=t})},onValuesChange:function(){document.getElementsByClassName("picker-slot-wrapper")[0]},initCurrentAddress:function(){},initCity:function(){var e=this;Object(a.j)().then(function(t){t.map(function(t,s){e.province.push(t.province),t.citylist.map(function(t,s){e.city.push(t.city),t.area.map(function(t,s){e.area.push({name:t.dist,vlaue:t.areaCode})})})}),e.area.push({name:"全部",value:0})})},changeAddress:function(e){this.popupVisible=!0,this.currentPicker=e,this.slots=1==e?[{flex:1,defaultIndex:0,values:this.province,className:"slot1",textAlign:"center"},{divider:!0,content:"-",className:"slot2"},{flex:1,values:this.city,defaultIndex:0,className:"slot3",textAlign:"center"},{divider:!0,content:"-",className:"slot4"},{flex:1,defaultIndex:2,values:this.area,className:"slot5",textAlign:"center"}]:[{defaultIndex:2,flex:1,values:this.checkedStatus,textAlign:"left"}]},cancle:function(){this.popupVisible=!1},select:function(){var e=this.$refs.pickerObj.getValues();1==this.currentPicker?this.checkedName=e[1]+" "+e[2].name:(this.addressValue=e[0].value,this.addressName=e[0].name),console.log(e),this.popupVisible=!1}}},o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"nearby-stores"},[n("nav",[n("div",{staticClass:"addres",on:{click:function(t){e.changeAddress(1)}}},[n("p",[e._v(e._s(e.checkedName))]),e._v(" "),n("img",{attrs:{src:s("91q3"),alt:""}})]),e._v(" "),n("p",{staticClass:"sort",on:{click:function(t){e.changeAddress(2)}}},[e._v("默认排序\n            "),n("img",{attrs:{src:s("91q3"),alt:""}})])]),e._v(" "),n("mt-popup",{attrs:{position:"top"},model:{value:e.popupVisible,callback:function(t){e.popupVisible=t},expression:"popupVisible"}},[n("mt-picker",{ref:"pickerObj",attrs:{slots:e.slots,valueKey:"name"}}),e._v(" "),n("div",{staticClass:"picker-toolbar"},[n("span",{staticClass:"mint-datetime-cancel",on:{click:e.cancle}},[e._v("取消")]),e._v(" "),n("span",{staticClass:"mint-datetime-confirm",on:{click:e.select}},[e._v("确定")])])],1),e._v(" "),e._l(e.StoreaList,function(t){return n("ul",{staticClass:"store-list"},[n("li",[n("div",{staticClass:"store-hd"},[n("p",[e._v(e._s(t.name))]),e._v(" "),n("img",{staticClass:"r-arrow",attrs:{src:s("q8gq"),alt:""}})]),e._v(" "),n("div",{staticClass:"store-bd clearfix"},[n("img",{staticClass:"store-img fl",attrs:{src:"http://img4.imgtn.bdimg.com/it/u=2136180122,282910574&fm=27&gp=0.jpg",alt:""}}),e._v(" "),n("div",{staticClass:"store-info-box fl"},[n("p",{staticClass:"store-address"},[e._v(e._s(t.province)+e._s(t.city)+e._s(t.dist)+e._s(t.address))]),e._v(" "),n("div",{staticClass:"star-box"},[n("score-lv",{attrs:{stars:3}})],1),e._v(" "),n("div",{staticClass:"item-box"},[1==e.StoreaList.state?n("div",{staticClass:"appointment"},[e._v("接受预约")]):2==e.StoreaList.state?n("div",{staticClass:"appointment app-hot"},[e._v("预约火爆")]):n("div",{staticClass:"appointment app-full"},[e._v("预约已满")]),e._v(" "),n("div",{staticClass:"item-sum"},[e._v("维修丶保养")])]),e._v(" "),n("p",{staticClass:"store-time"},[e._v(e._s(t.storeTime))]),e._v(" "),n("div",{staticClass:"store-dist"},[e._v("距离"+e._s(Math.round(e.StoreaList.distance))+"m")]),e._v(" "),n("img",{staticClass:"dist-icon",attrs:{src:s("TGhw"),alt:""}})])])])])})],2)},staticRenderFns:[]},c=s("VU/8")(i,o,!1,function(e){s("fuI4"),s("aiUF")},"data-v-0ec0b141",null);t.default=c.exports},EarI:function(e,t){function s(e,t,s){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+s:Math.ceil(e/t)+" "+s+"s"}var n=1e3,a=60*n,r=60*a,i=24*r,o=365.25*i;e.exports=function(e,t){t=t||{};var c=typeof e;if("string"===c&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*o;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*a;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===c&&!1===isNaN(e))return t.long?function(e){return s(e,i,"day")||s(e,r,"hour")||s(e,a,"minute")||s(e,n,"second")||e+" ms"}(e):function(e){return e>=i?Math.round(e/i)+"d":e>=r?Math.round(e/r)+"h":e>=a?Math.round(e/a)+"m":e>=n?Math.round(e/n)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},"Fy0/":function(e,t,s){(function(n){function a(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==n&&"env"in n&&(e=Object({NODE_ENV:"production"}).DEBUG),e}(t=e.exports=s("vmzn")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var s=this.useColors;if(e[0]=(s?"%c":"")+this.namespace+(s?" %c":" ")+e[0]+(s?"%c ":" ")+"+"+t.humanize(this.diff),s){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var a=0,r=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(a++,"%c"===e&&(r=a))}),e.splice(r,0,n)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=a,t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(a())}).call(t,s("W2nU"))},aiUF:function(e,t){},fuI4:function(e,t){},hU7x:function(e,t,s){function n(){}var a=s("Fy0/")("jsonp");e.exports=function(e,t,s){function i(){o.parentNode&&o.parentNode.removeChild(o),window[u]=n,c&&clearTimeout(c)}"function"==typeof t&&(s=t,t={}),t||(t={});var o,c,l=t.prefix||"__jp",u=t.name||l+r++,d=t.param||"callback",p=null!=t.timeout?t.timeout:6e4,f=encodeURIComponent,m=document.getElementsByTagName("script")[0]||document.head;return p&&(c=setTimeout(function(){i(),s&&s(new Error("Timeout"))},p)),window[u]=function(e){a("jsonp got",e),i(),s&&s(null,e)},e+=(~e.indexOf("?")?"&":"?")+d+"="+f(u),e=e.replace("?&","?"),a('jsonp req "%s"',e),o=document.createElement("script"),o.src=e,m.parentNode.insertBefore(o,m),function(){window[u]&&i()}};var r=0},vmzn:function(e,t,s){function n(e){function s(){if(s.enabled){var e=s,n=+new Date,r=n-(a||n);e.diff=r,e.prev=a,e.curr=n,a=n;for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var c=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(s,n){if("%%"===s)return s;c++;var a=t.formatters[n];if("function"==typeof a){var r=i[c];s=a.call(e,r),i.splice(c,1),c--}return s}),t.formatArgs.call(e,i);(s.log||t.log||console.log.bind(console)).apply(e,i)}}return s.namespace=e,s.enabled=t.enabled(e),s.useColors=t.useColors(),s.color=function(e){var s,n=0;for(s in e)n=(n<<5)-n+e.charCodeAt(s),n|=0;return t.colors[Math.abs(n)%t.colors.length]}(e),"function"==typeof t.init&&t.init(s),s}(t=e.exports=n.debug=n.default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var s=("string"==typeof e?e:"").split(/[\s,]+/),n=s.length,a=0;a<n;a++)s[a]&&("-"===(e=s[a].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var s,n;for(s=0,n=t.skips.length;s<n;s++)if(t.skips[s].test(e))return!1;for(s=0,n=t.names.length;s<n;s++)if(t.names[s].test(e))return!0;return!1},t.humanize=s("EarI"),t.names=[],t.skips=[],t.formatters={};var a}});