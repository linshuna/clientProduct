webpackJsonp([11],{Jmmd:function(t,s){},UMBe:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=i("VsUZ"),a={name:"maintain",data:function(){return{clientvid:"",selected:"立即购买",shopId:"",shopMsg:{},bannerList:null,myCarList:[],reqData:{},desc:"",project_id:""}},created:function(){this.shopId=this.$route.params.shopId;var t=this.$store.getters.getStorage;this.clientvid=t?t.vid:""},mounted:function(){this.$nextTick(function(){this.init(),this.clientvid&&this.initCarList()})},components:{"appoint-public":i("kK2N").a},methods:{init:function(){var t=this;Object(e.W)({id:this.shopId}).then(function(s){t.shopMsg=s,t.bannerList=s.images,t.desc=s.desc,t.project_id=s.project_id})},initCarList:function(){var t=this;Object(e.B)({clientvid:this.clientvid}).then(function(s){s.map(function(s,i){t.myCarList.push({name:s.carNo,value:s.vid})})})},gainReqData:function(t){this.reqData=t},order:function(){var t=this;if(!this.clientvid)return this.$store.commit("showToast","请登录"),this.$store.commit("delay",{url:"/Login",$router:this.$router}),!1;if(!this.reqData.orderDate&&1==this.project_id)return this.$store.commit("showToast","请选择预约日期"),!1;if(!this.reqData.time&&1==this.project_id)return this.$store.commit("showToast","请选择预约时间"),!1;if(!this.reqData.carvid)return this.$store.commit("showToast","请选择服务车辆"),!1;if(!this.reqData.buyname)return this.$store.commit("showToast","请输入用户姓名"),!1;if(!this.reqData.buymobile)return this.$store.commit("showToast","请输入用户电话"),!1;/^1[3|5|8]\d{9}$/.test(this.reqData.buymobile)?(this.$delete(this.reqData,"orderDate"),this.$delete(this.reqData,"time"),this.reqData.id=this.shopId,this.reqData.clientvid=this.clientvid,this.reqData.number=1,Object(e.e)(this.reqData).then(function(s){if(console.log(s),s&&!s.errorCode){var i=s.orderNo;t.$router.push({path:"/Index/UpKeep/Payment/"+i})}})):this.$store.commit("showToast","请输入正确的联系电话")}}},r={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"maintain-wrap mask"},[e("div",{staticClass:"nav"},[e("div",{staticClass:"nav_top"},[e("div",{staticClass:"nav_top_img"},[t.bannerList?e("div",{staticClass:"swiper-wrapper"},[e("mt-swipe",{attrs:{auto:4e3}},t._l(t.bannerList,function(t,s){return e("mt-swipe-item",{key:s},[e("img",{staticClass:"swiper-img",attrs:{src:t,alt:"商品图片"}})])}))],1):t._e()]),t._v(" "),e("div",{staticClass:"nav_center"},[e("div",{staticClass:"nav_center_top"},[e("p",{staticClass:"nav_center_top_p"},[t._v(t._s(t.shopMsg.name))])]),t._v(" "),e("div",{staticClass:"nav_center_footer"},[e("div",{staticClass:"nav_center_footer_left"},[e("p",[t._v("¥"+t._s(t.shopMsg.price))]),t._v(" "),e("p",[t._v("市场价："+t._s(t.shopMsg.marketprice))])]),t._v(" "),e("div",{staticClass:"nav_center_footer_right"},[e("p",[t._v(" 销量:"+t._s(t.shopMsg.sale))])])])]),t._v(" "),t._m(0)]),t._v(" "),e("div",{staticClass:"setPosition"},[e("mt-tabbar",{attrs:{fixed:""},model:{value:t.selected,callback:function(s){t.selected=s},expression:"selected"}},[e("mt-tab-item",{attrs:{id:"立即购买"}},[t._v("  \n              立即购买  \n            ")]),t._v(" "),e("mt-tab-item",{attrs:{id:"商品详情"}},[t._v("  \n              商品详情 \n            ")])],1),t._v(" "),e("div",{staticClass:"tabCon"},[e("mt-tab-container",{staticClass:"page-tabbar-container",model:{value:t.selected,callback:function(s){t.selected=s},expression:"selected"}},[e("mt-tab-container-item",{attrs:{id:"立即购买"}},[e("div",{staticClass:"footer"},[e("appoint-public",{attrs:{servertype:"0",myCarList:t.myCarList,shopId:t.shopId,maintainId:t.project_id},on:{gainReqData:t.gainReqData}}),t._v(" "),e("div",{staticClass:"btn-wrap"},[e("router-link",{attrs:{to:"/"}},[e("p",[e("img",{attrs:{src:i("fCXZ")}})]),t._v(" "),e("p",[t._v("首页")])]),t._v(" "),e("a",{attrs:{href:"tel:"+t.shopMsg.phone}},[e("p",[e("img",{attrs:{src:i("5pO8")}})]),t._v(" "),e("p",[t._v("咨询")])]),t._v(" "),e("button",{staticClass:"appoint_btn",on:{click:t.order}},[t._v("立即购买")])],1)],1)]),t._v(" "),e("mt-tab-container-item",{attrs:{id:"商品详情"}},[e("div",{staticClass:"desc",domProps:{innerHTML:t._s(t.$options.filters.unescape(t.desc))}})])],1)],1)],1)])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"nav_footer"},[s("p",[this._v("购物流程")]),s("img",{attrs:{src:i("q8gq"),alt:""}})])}]},n=i("VU/8")(a,r,!1,function(t){i("Jmmd"),i("gKEl"),i("rKT8")},"data-v-1b662d44",null);s.default=n.exports},gKEl:function(t,s){},rKT8:function(t,s){}});