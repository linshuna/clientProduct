webpackJsonp([30],{"3Kcu":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("VsUZ"),o=s("Q50t"),n=s("spZf"),a=s("aYDR"),r=s("hU7x"),c={name:"Shopping",mixins:[o.a],data:function(){return{selected:"1",selItem:"越秀区",selectList:[],sortList:["天河区","海珠区","白云区","番禺区"],sortData:"推荐排序",FilterList:["汽车美容","常规保养"],filterData:"服务类型",kmData:"离我最近",showSelList:!1,bannerList:[],ShopStoreList:[],RecommendList:[],longitude:"",latitude:"",StoreaList:[],addressValue:0,addressName:"",checkedName:"",currentPicker:1,popupVisible:!1,addressname:{},allAddress:[],search:"",sorts:1,sortsText:"默认排序",city:"",addressExtends:"",typename:"商品类型",project_id:"",shopNum:0}},created:function(){var t=this;r("http://apis.map.qq.com/ws/location/v1/ip?key=IK2BZ-QCAKQ-QJ45W-GCLNJ-JCWSK-GWBYA&get_poi=0&output=jsonp",null,function(e,s){var i=s.result,o=i.ad_info.city+" "+i.ad_info.district;t.$set(t.addressname,"name",o),t.$set(t.addressname,"longitude",i.location.lng),t.$set(t.addressname,"latitude",i.location.lat),t.$set(t.addressname,"code",i.ad_info.adcode),console.log(i)})},mounted:function(){this.$nextTick(function(){})},components:{"base-footer":n.a,"pro-city-area":a.a},watch:{addressname:function(t,e){this.longitude=t.longitude,this.latitude=t.latitude,this.search=t.code,this._getShopStore()}},methods:{transmit:function(t,e){this.selectList=t,this.selItem=e,this.showSelList=!0},selType:function(t){"1"==this.selected?this.sortData=t:this.filterData=t,this.showSelList=!1},_getShopBanner:function(){var t=this;Object(i.V)().then(function(e){t.bannerList=e})},_getShopRecommend:function(){var t=this;Object(i.Y)().then(function(e){t.RecommendList=e})},_getShopStore:function(){var t=this;Object(i.Z)({longitude:this.longitude,latitude:this.latitude,project_id:this.project_id,search:this.search,sorts:this.sorts}).then(function(e){t.ShopStoreList=e.store,t.shopNum=e.sum,console.log(e.store)})},openMap:function(t,e,s,i){window.location.href="https://apis.map.qq.com/tools/poimarker?type=0&marker=coord:"+e+","+t+";title:"+s+";addr:"+i+";&key=IK2BZ-QCAKQ-QJ45W-GCLNJ-JCWSK-GWBYA&referer=myapp "},changeType:function(t){this.currentPicker=t,this.popupVisible=!0,console.log(t)},gainAllAddress:function(t){this.$set(this.addressname,"name",t.area),this.search=t.search,console.log(this.search),this._getShopStore()},gainSort:function(t){this.sorts=t.value,this.sortsText=t.name,this._getShopStore()},gainShopProject:function(t){this.typename=t.name,this.project_id=t.value,this._getShopStore()}}},h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"Shopping-wrap mask"},[e("router-view")],1)},staticRenderFns:[]},d=s("VU/8")(c,h,!1,function(t){s("OrsF")},"data-v-9e49ab04",null);e.default=d.exports},OrsF:function(t,e){}});