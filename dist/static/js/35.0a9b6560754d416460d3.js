webpackJsonp([35],{T627:function(t,s){},gqm9:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("VsUZ"),a={data:function(){return{clientvid:"",orderNo:"",status:"",user:null,tech:null,reck:null,science:null,line:null,payType:"",showPay:!1,options:[{label:"余额支付",value:"1"},{label:"活动金额支付",value:"2",disabled:!0},{label:"微信支付",value:"3",disabled:!0}]}},mounted:function(){var t=this.$store.getters.getStorage;this.clientvid=t?t.vid:"";var s=this.$route.params.gainData;s=s?JSON.parse(s):"",this.orderNo=s?s.orderNo:"",this.status=s&&2==s.status?s.status:"",this.init()},filters:{priceFilter:function(t){return t&&0!=t?"￥"+t:"￥0"},numFilter:function(t){return t&&0!=t?"x"+t:"x0"}},methods:{init:function(){var t=this;Object(i._9)({orderNo:this.orderNo}).then(function(s){t.user=s.user,t.tech=s.tech,t.reck=s.reck,t.science=s.science,t.line=s.line})},check:function(t,s){var e=this,a=this;this.options.map(function(s,i){s.value==t&&(e.payType=t,console.log("支付方式："+t),setTimeout(function(){a.showPay=!1},2e3))}),Object(i._12)({orderNo:this.orderNo,type:this.payType,clientvid:this.clientvid}).then(function(t){t&&!t.errorCode&&(e.$store.commit("showToast","支付成功"),e.$store.commit("delay",{url:"/UserCenter/CarCountList",$router:e.$router}))})},pay:function(){this.showPay=!0}}},n={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"list"},[e("ul",[e("li",{staticClass:"border-bottom-1px"},[t._v("车主")]),t._v(" "),e("li",[t._v("姓名："+t._s(t.user.uname))]),t._v(" "),e("li",[t._v("联系电话："+t._s(t.user.phone))]),t._v(" "),e("li",[t._v("车辆："+t._s(t.user.carNo))])]),t._v(" "),e("ul",{staticClass:"setPadding"},[e("li",{staticClass:"border-bottom-1px"},[t._v("维护技师")]),t._v(" "),e("li",[t._v("姓名："+t._s(t.tech.nickname))]),t._v(" "),e("li",[t._v("联系电话："+t._s(t.tech.phone))]),t._v(" "),e("li",[t._v("接待时间："+t._s(t.tech.gettime))]),t._v(" "),e("li",[t._v("进店里程："+t._s(t.tech.distance))]),t._v(" "),e("li",[t._v("油量："+t._s(t.tech.oid))])]),t._v(" "),t.reck&&0!=t.reck.length?e("div",{staticClass:"setPadding"},[e("ul",[e("li",{staticClass:"border-bottom-1px"},[t._v("服务项目")]),t._v(" "),t._l(t.reck,function(s,i){return e("li",[e("span",[t._v(t._s(s.name))])])})],2)]):t._e(),t._v(" "),t.science&&0!=t.science.length?e("div",{staticClass:"setPadding"},[e("ul",[e("li",{staticClass:"border-bottom-1px"},[t._v("配件")]),t._v(" "),t._l(t.science,function(s,i){return e("li",{staticClass:"clearFloat"},[e("span",{staticClass:"fl"},[t._v(t._s(s.name))]),t._v(" "),e("span",{staticClass:"fr"},[e("span",{staticClass:"orangeColor"},[t._v(t._s(t._f("priceFilter")(s.price)))]),t._v(" "),e("span",[t._v(t._s(t._f("numFilter")(s.num)))])])])})],2)]):t._e(),t._v(" "),t.line&&0!=t.line.length?e("div",{staticClass:"setPadding"},[e("ul",[e("li",{staticClass:"border-bottom-1px"},[t._v("线上商品")]),t._v(" "),t._l(t.line,function(s,i){return e("li",{staticClass:"clearFloat"},[e("span",{staticClass:"fl"},[t._v(t._s(s.name))]),t._v(" "),e("span",{staticClass:"fr"},[e("span",{staticClass:"orangeColor"},[t._v(t._s(t._f("priceFilter")(s.price)))]),t._v(" "),e("span",[t._v(t._s(t._f("numFilter")(s.number)))])])])})],2)]):t._e(),t._v(" "),e("ul",{staticClass:"setPadding"},[e("li",[t._v("\n      结算金额：\n     "),e("span",{staticClass:"orangeColor"},[t._v(t._s(t._f("priceFilter")(t.user.money))+"(不含线上商品)")])])]),t._v(" "),t.status?e("div",{staticClass:"setBtn",on:{click:function(s){s.stopPropagation(),t.pay(s)}}},[e("button",[t._v("确认结算")])]):t._e(),t._v(" "),t.showPay?e("div",{staticClass:"checked-mask"},[e("div",{staticClass:"set-position"},[t._l(t.options,function(s,i){return[e("div",{staticClass:"set-inline-block clearFloat",class:{"border-bottom-1px":i+1!=t.options.length}},[e("input",{staticClass:"fr",class:{gray:3==s.value},attrs:{disabled:3==s.value,type:"radio",name:"checked"+i},domProps:{value:s.label},on:{change:function(e){t.check(s.value,s.label)}}}),t._v(" "),e("label",{staticClass:"fl",attrs:{for:"checked"+s.value}},[t._v(t._s(s.label))])])]}),t._v(" "),e("div",{staticClass:"delIcon",on:{click:function(s){s.stopPropagation(),t.showPay=!1}}})],2)]):t._e()])},staticRenderFns:[]},l=e("VU/8")(a,n,!1,function(t){e("T627")},"data-v-6e2be85c",null);s.default=l.exports}});